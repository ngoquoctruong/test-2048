window.__require=function e(t,o,n){function a(r,c){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return a(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(e,t){var o=e("./package.json").version,n="en",a="jp",i={jp:{play:"\u30b9\u30bf\u30fc\u30c8"},en:{play:"Play Now!"}},r=500;function c(){console.log("H5ad v"+o),this._isInitialised=!1,this._splashAdShown=!1}function s(e){for(var t in e=e||{})void 0===e[t]&&delete e[t];return e}function l(e,t){console.error(e),(t=t||{}).noBreak?t.noBreak():(t.beforeBreak&&t.beforeBreak(),t.afterBreak&&t.afterBreak())}function u(){if(!navigator.language)return a;var e=navigator.language.toLowerCase().substr(0,2);return i[e]?e:n}c.prototype.initialize=function(e){if(this._isInitialised)console.warn("h5ad: already initialized");else{if(this._isInitialised=!0,e&&void 0!==e.adBreakTimeout&&(r=e.adBreakTimeout),!window.adsbygoogle){var t=document.createElement("script");t.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",t.setAttribute("data-ad-client","ca-pub-123456789"),t.setAttribute("data-adbreak-test","on"),t.async=!0,document.head.appendChild(t),window.adsbygoogle=window.adsbygoogle||[],adBreak=window.adBreak=function(e){console.log("adBreak:",e),window.adsbygoogle.push(e)},adConfig=window.adConfig=function(e){console.log("adConfig:",e),window.adsbygoogle.push(e)}}adConfig({preloadAdBreaks:"on",sound:"on"})}},c.prototype.onStart=function(e){if(e=e||{},this._isInitialised||this.initialize({adBreakTimeout:e.adBreakTimeout}),this._splashAdShown)console.warn("h5ad: onStart has already been called");else{this._splashAdShown=!0;var t="";t+=".splahContainer {",t+="    background-color: black;",t+="    position: absolute;",t+="    width: 100%;",t+="    height: 100%;",t+="    text-align: left;",t+="}",t+=".splahContainer .gameIcon {",t+="    position: relative;",t+="    width: 100px;",t+="    height: 100px;",t+="    background-size: 100%;",t+="    transform: translate(-50%, -100%);",t+="    left: 50%;",t+="    top: 31%;",t+="    border-radius: 10px;",t+="    border: 2px white solid;",t+="    border-radius: min(2vh,2vw);",t+="    border: min(0.7vw, 0.7vh) white solid;",t+="    width: min(30vw, 20vh);",t+="    height: min(30vw, 20vh);",t+="}",t+=".splahContainer .startButton {",t+="    background-color: rgb(255, 193, 7);",t+="    padding: 20px 30px;",t+="    border-radius: 13px;",t+="    transform: translate(-50%, 100%);",t+="    left: 50%;",t+="    top: 40%;",t+="    border: 5px solid white;",t+="    position: relative;",t+="    cursor: pointer;",t+="    font-size: 26px;",t+="    font-family: arial, verdana;",t+="    color: white;",t+="    text-align: center;",t+="    transition: all 0.1s;",t+="    width: min(50vw,27vh);",t+="    padding: min(3vw,3vh);",t+="    font-size: min(4vh,9vw);",t+="    border-radius: min(2vh,2vw);",t+="    border: min(1vw, 1vh) white solid;",t+="}",t+=".splahContainer .startButton:hover {",t+="    transform: translate(-50%, 100%) scale(1.1);",t+="    background-color: rgb(255 217 104);",t+="}";var o=document.createElement("style");o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(o);var n=document.createElement("div");e.color&&(n.style.backgroundColor=e.color),n.className="splahContainer";var a=document.createElement("div");a.textContent=i[u()].play,a.className="startButton",n.appendChild(a);var c=document.createElement("div");c.className="gameIcon",e.icon&&(c.style.backgroundImage="url("+e.icon+")"),n.appendChild(c),document.body.appendChild(n),a.onclick=function(){afterBreakCallbackCalled=!1;var t=setTimeout(function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())},r);try{adBreak(s({type:"start",name:e.name||"splash_screen",beforeAd:function(){clearTimeout(t)},afterAd:function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())}}))}catch(o){l(o,e)}setTimeout(function(){document.body.removeChild(n)},200)}}},c.prototype.onNext=function(e){(e=e||{}).type="next",this.adBreak(e)},c.prototype.onBrowse=function(e){(e=e||{}).type="browse",this.adBreak(e)},c.prototype.onPause=function(e){(e=e||{}).type="pause",this.adBreak(e)},c.prototype.onReward=function(e){(e=e||{}).type="reward",this.adBreak(e)},c.prototype.adBreak=function(e){var t,o=(e=e||{}).type;if(-1===["next","browse","pause","reward"].indexOf(o))return console.error("H5ad: unknown type",o);t=setTimeout(function(){e.noBreak&&e.noBreak()},r);try{adBreak(s({type:o,name:e.name||o,beforeAd:function(){t&&clearTimeout(t),e.beforeBreak&&e.beforeBreak()},afterAd:e.afterBreak,beforeReward:e.beforeReward,adDismissed:"reward"===o?e.adDismissed||function(){}:void 0,adViewed:e.adViewed}))}catch(n){l(n,e)}},c.prototype.onMute=function(){adConfig({sound:"off"})},c.prototype.onUnmute=function(){adConfig({sound:"on"})},t.exports=new c},{"./package.json":2}],2:[function(e,t){t.exports={_args:[["git+https://github.com/gc-turbo/h5ad.git#v1.1.0","/Users/truongngo/Repository/2048-match"]],_from:"git+https://github.com/gc-turbo/h5ad.git#v1.1.0",_id:"h5ad@git+https://github.com/gc-turbo/h5ad.git#c29be9a114267f1717e47e3e4c77ea488268e1b1",_inBundle:!1,_integrity:"",_location:"/h5ad",_phantomChildren:{},_requested:{type:"git",raw:"git+https://github.com/gc-turbo/h5ad.git#v1.1.0",rawSpec:"git+https://github.com/gc-turbo/h5ad.git#v1.1.0",saveSpec:"git+https://github.com/gc-turbo/h5ad.git#v1.1.0",fetchSpec:"https://github.com/gc-turbo/h5ad.git",gitCommittish:"v1.1.0"},_requiredBy:["/"],_resolved:"git+https://github.com/gc-turbo/h5ad.git#c29be9a114267f1717e47e3e4c77ea488268e1b1",_spec:"git+https://github.com/gc-turbo/h5ad.git#v1.1.0",_where:"/Users/truongngo/Repository/2048-match",author:{name:"GC Turbo"},bugs:{url:"https://github.com/gc-turbo/h5ad/issues"},description:"Ad API wrapper for GC Turbo hyper casual games",homepage:"https://github.com/gc-turbo/h5ad#readme",license:"",main:"index.js",name:"h5ad",repository:{type:"git",url:"git+https://github.com/gc-turbo/h5ad.git"},scripts:{},version:"1.1.0"}},{}],Cell:[function(e,t){"use strict";cc._RF.push(t,"6d288Vvo65MuoZf1hB2p6r0","Cell");var o={2:"#ECE0D5",4:"#EBDCC2",8:"#F4A873",16:"#F18151",32:"#F1654D",64:"#F0462D",128:"#D5BF7F",256:"#D4B966",512:"#D9A64A",1024:"#C69949",2048:"#98941E"};cc.Class({extends:cc.Component,properties:{bg:{default:null,type:cc.Node},numLabel:{default:null,type:cc.Label},num:{default:0,notify:function(){this.adjustUI()}}},adjustUI:function(){this.numLabel.string=this.num,this.numLabel.node.color=this.num<=4?cc.Color.BLACK:cc.Color.WHITE,this.bg.color=o[String(this.num)]?cc.color(o[String(this.num)]):cc.color("#ECE0D5")},adjustSize:function(e,t){this.node.width=this.bg.width=e,this.node.height=this.bg.height=t}}),cc._RF.pop()},{}],ComboBox:[function(e,t){"use strict";cc._RF.push(t,"133eeb3BdFEWJY2+XYBOhAK","ComboBox");var o=["English","Japanese"],n=["en","ja"];cc.Class({extends:cc.Component,properties:{triangle:cc.Node,comboLabel:cc.Label,dropDown:cc.Node,vLayoutNode:cc.Node,contentNode:cc.Node,itemPrefab:cc.Prefab},onLoad:function(){this.isDropDown=!1,this.comboLabel.string="en"==Global.language?Global.languageData.t("label_text.English"):Global.languageData.t("label_text.Japanese")},onClickItemBtn:function(e){Global.musicManager.playClickEffect(),this.rotateTriangle(),this.showHideDropDownBox(),this.isDropDown?this.isDropDown=!1:this.isDropDown=!0,e&&this.initItems()},rotateTriangle:function(){if(this.isDropDown){var e=cc.rotateTo(.5,90).easing(cc.easeCubicActionOut());this.triangle.runAction(e)}else{var t=cc.rotateTo(.5,180).easing(cc.easeCubicActionOut());this.triangle.runAction(t)}},showHideDropDownBox:function(){this.isDropDown?this.dropDown.active=!1:this.dropDown.active=!0},initItems:function(){this.vLayoutNode.removeAllChildren();for(var e=0;e<o.length;e++){var t=cc.instantiate(this.itemPrefab);t.getComponent("Item").setData(this,{language:o[e],languageSM:n[e]}),this.vLayoutNode.addChild(t)}}}),cc._RF.pop()},{}],GameConfig:[function(e,t){"use strict";cc._RF.push(t,"2205ejlHw5OmYEUMB09Kzm3","GameConfig");var o=cc.Enum({NORMAL:0,WRONG:1,RIGHT:2}),n=cc.Enum({WAIT:0,INGAME:1,CONTINUE:2,ROUNDFINISH:3,SETTLE:4,SHOWTIME:5}),a=cc.Enum({bgMusic:"audio/bgMusic",success:"audio/success",click:"audio/click",close:"audio/close",msg:"audio/msg",promptUI:"prefabs/promptUI",loading:"prefabs/loading",help:"prefabs/help",result:"prefabs/result"}),i=cc.Enum({soundStatus:"soundStatus",bgmusicStatus:"bgmusicStatus",effectStatus:"effectStatus",highestScore:"highestScore",rewardAdsLastTime:"rewardAdsLastTime"}),r=cc.Enum({rank:1e3,top:2e3,mask:2500});t.exports={STATUS_TYPE:o,GAME_STATUS:n,clientEvent:{EnterBackground:"EnterBackground",EnterForeground:"EnterForeground",playGame:"playGame",gameOver:"gameOver",gotoHome:"gotoHome",showTime:"showTime",updateAsset:"updateAsset",updateLabel:"updateLabel",gogogo:"gogogo",changeHero:"changeHero",createHero:"createHero"},PERLOAD_NAME:a,KEY:i,LAYER_ORDER:r,Events:{choose:"choose",create:"create",create_shortcut:"create_shortcut",share:"share",subscribe_bot:"subscribe_bot",switch:"switch",update:"update"},EventType:{choose:"choose",create:"create",switch:"switch",update:"update",share:"share"},FeatureType:{invite:"INVITE",share:"SHARE"},Feature:{challenge:"challenge",atStart:"atStart",atGameOver:"atGameOver",fromScoreBoard:"fromScoreBoard",fromGameOver:"fromGameOver"},Asset:{invite1:"invite1",share1:"share1"},Source:{homeAlone:"homeAlone",homeWithFriends:"homeWithFriends",gameOverWithFriends:"gameOverWithFriends",gameOverChallenge:"gameOverChallenge",retry:"retry"}},cc._RF.pop()},{}],Global:[function(e,t){"use strict";cc._RF.push(t,"5b57cRzx91BHrVzrUm7nlFn","Global"),window.Global=window.Global||{},window.reStartGame=function(){cc.game.restart()},window.startGame=function(){window.isShow=!1,cc.game.on(cc.game.EVENT_HIDE,function(){window.isShow&&(Global.emitter.emit("EnterBackground"),window.isShow=!1)}),cc.game.on(cc.game.EVENT_SHOW,function(){window.isShow||(Global.emitter.emit("EnterForeground"),window.isShow=!0)}),Global.tools=e("Tools")(),Global.emitter=e("emitter")(),Global.isDebug=!1;var t=Global.getAppName()+"language";Global.language=cc.sys.localStorage.getItem(t),null!=Global.language&&null!=Global.language||(Global.language=o()),cc.sys.localStorage.setItem(t,Global.language),Global.languageData=e("LanguageData"),Global.languageData.init(Global.language),Global.gameCtrl=null,Global.player={curScore:0,highestScore:0},Global.curLevel=0,Global.player.highestScore=0;var n=cc.sys.localStorage.getItem(Global.getAppName()+"curLevel");null!=n&&null!=n&&(Global.curLevel=1*n),Global.resourceManager=e("ResourceManager")(),Global.musicManager=e("MusicManager")(),e("PreLoadManager"),Global.panel=e("Panel")()},Global.getAppName=function(){return Global.isDebug?"2048-dev":"2048"},Global.getVersion=function(){return Global.isDebug?"1.0.0":"1.0.2"};var o=function(){var e,t,o=window.navigator,n=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(o.languages))for(e=0;e<o.languages.length;e++)if((t=o.languages[e])&&t.length)return t.slice(0,2);for(e=0;e<n.length;e++)if((t=o[n[e]])&&t.length)return t.slice(0,2);return null};cc._RF.pop()},{LanguageData:"LanguageData",MusicManager:"MusicManager",Panel:"Panel",PreLoadManager:"PreLoadManager",ResourceManager:"ResourceManager",Tools:"Tools",emitter:"emitter"}],GridCell:[function(e,t){"use strict";cc._RF.push(t,"0e58aJmhN1JQYoG4y7oKtnK","GridCell"),cc.Class({extends:cc.Component,properties:{numLabel:{default:null,type:cc.Label},num:{default:0,notify:function(){this.adjustUI()}}},adjustUI:function(){this.numLabel.string=this.num}}),cc._RF.pop()},{}],Item:[function(e,t){"use strict";cc._RF.push(t,"63015ztVsdNVoLv7+UmBbiE","Item"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},_parentCtrl:null,_data:null},setData:function(e,t){this._parentCtrl=e,this._data=t,Global.languageData.init(Global.language),this.label.string=Global.languageData.t("label_text."+t.language)},onClickItemBtn:function(){this._parentCtrl.onClickItemBtn(),this._data.languageSM!=Global.language&&(Global.language=this._data.languageSM,cc.sys.localStorage.setItem(Global.getAppName()+"language",Global.language),Global.languageData.init(Global.language),this._parentCtrl.comboLabel.string=Global.languageData.t("label_text."+this._data.language),Global.languageData.updateSceneRenderers())}}),cc._RF.pop()},{}],LanguageData:[function(e,t){"use strict";cc._RF.push(t,"31e138UXBhB5qwuxOaE7JZ1","LanguageData");var o=e("polyglot.min"),n=null;function a(e){return window.i18n.languages[e]}function i(e){e&&(n?n.replace(e):n=new o({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=a(e)||{};window.i18n.curLang=e,i(t),this.inst=n}},t:function(e,t){if(n)return n.t(e,t)},inst:n,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],o=0;o<e.length;++o){var n=e[o].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var a=0;a<t.length;++a){var i=t[a];i.node.active&&i.updateLabel()}for(var r=[],c=0;c<e.length;++c){var s=e[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,s)}for(var l=0;l<r.length;++l){var u=r[l];u.node.active&&u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t){"use strict";cc._RF.push(t,"85fa0KsWHVCBofvyuY2la/x","LocalizedLabel");var o=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){o.inst||o.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?o.t(this.dataID)&&(this.label.string=o.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t){"use strict";cc._RF.push(t,"ec55bdFcLtEn5n7fz3twVni","LocalizedSprite");var o=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:o}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MainScene:[function(e,t){"use strict";cc._RF.push(t,"5e5966z/eFO2ar90G3Leqy1","MainScene");var o=e("GameConfig"),n=e("h5ad"),a=[2,4],i=[[4,4],[5,5],[6,6]];cc.Class({extends:cc.Component,properties:{gridNode:{default:null,type:cc.Layout},gridCell:{default:null,type:cc.Prefab},row:{default:4,step:1,notify:function(){this.createGrid()}},column:{default:4,step:1,notify:function(){this.createGrid()}},panel:{default:null,type:cc.Node},cellPreb:{default:null,type:cc.Prefab},scoreLab:{default:null,type:cc.Label},highestLab:{default:null,type:cc.Label},score:{default:0,type:cc.Integer,notify:function(){Global.player.curScore=this.score,this.scoreLab.string=this.score,this.score>Global.player.highestScore&&(Global.player.highestScore=this.score,this.highestLab.string=this.score,cc.sys.localStorage.setItem(Global.getAppName()+Global.curLevel+"highestScore",Global.player.highestScore))}},homePageNode:{default:null,type:cc.Node},soundToggle:{default:null,type:cc.Toggle},_isResult:!1},onLoad:function(){Global.emitter.on(o.clientEvent.EnterBackground,this.EnterBackground,this),Global.emitter.on(o.clientEvent.EnterForeground,this.EnterForeground,this),this.registerEvent(),this.isBackGround=!1,Global.tools.gtaInit("321085","0033cb7f59e3cd9a32e9a1abd8807afa");var e={weblinkSource:Global.tools.getWeblinkSource(),gameName:Global.tools.getAppName(),version:"1.0.0"};Global.tools.gtaSetUserProperties(e),Global.tools.gtaPushEvent("gameSession",e),n.onStart({icon:Global.tools.getResourceUrl("icon"),color:"rgb(5, 35, 92)",adBreakTimeout:3e3,afterBreak:function(){Global.musicManager.playBGM(o.PERLOAD_NAME.bgMusic);var e=new Object;e.adType="Interstitial",e.gameName=Global.tools.getAppName(),e.weblinkSource=Global.tools.getWeblinkSource(),e.gameFeature="interstitialAD_start",Global.tools.gtaPushEvent("AdShowSuccess",e)}});var t=cc.sys.localStorage.getItem(o.KEY.soundStatus);null==t||null==t||0==t?this.soundToggle.uncheck():1==t&&this.soundToggle.check(),Global.gameCtrl=this,this.homePageNode.active=!0,this.score=0},EnterBackground:function(){this.isBackGround=!0,this.unregisterEvent()},EnterForeground:function(){this.isBackGround&&(this.isBackGround=!1,this.registerEvent())},registerEvent:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.game.canvas.focus()},unregisterEvent:function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},playGame:function(){this.row=i[Global.curLevel][0],this.column=i[Global.curLevel][1],Global.player.highestScore=0;var e=cc.sys.localStorage.getItem(Global.getAppName()+Global.curLevel+"highestScore");e&&(Global.player.highestScore=1*e),this.highestLab.string=Global.player.highestScore,this.createGrid(),this.homePageNode.active=!1,this.reloadCell()},gotoHome:function(){this.homePageNode.active=!0},onTouchMove:function(e){if(1!=this.homePageNode.active&&!this.moved){var t=e.getStartLocation(),o=e.getLocation().subSelf(t);if(Math.abs(o.x)>Math.abs(o.y)){if(Math.abs(o.x)<10)return;this.moved=!0,o.x>0?this.moveRight():this.moveLeft()}else{if(Math.abs(o.y)<10)return;this.moved=!0,o.y>0?this.moveUp():this.moveDown()}}},onTouchEnd:function(){1!=this.homePageNode.active&&(this.moved=!1)},onKeyDown:function(e){if(1!=this.homePageNode.active)switch(e.keyCode){case cc.macro.KEY.up:this.moveUp();break;case cc.macro.KEY.down:this.moveDown();break;case cc.macro.KEY.left:this.moveLeft();break;case cc.macro.KEY.right:this.moveRight()}},createGrid:function(){this.gridNode.node.removeAllChildren();for(var e=this.gridNode.node.getContentSize(),t=e.width-20,o=e.height-20,n=(t-10*(this.column-1))/this.column,a=(o-10*(this.row-1))/this.row,i=0;i<this.row;i++)for(var r=0;r<this.column;r++){var c=cc.instantiate(this.gridCell);c.width=n,c.height=a,c.getComponent("GridCell").num="("+i+","+r+")",c.name="gridCell_"+i+r,this.gridNode.node.addChild(c)}this.gridNode.updateLayout()},reloadCell:function(){this.moved=!1,this.moving=!1,this.score=0,this.panel.destroyAllChildren(),this.boardCells=[],this.board=[];for(var e=0;e<this.row;e++){for(var t=[],o=[],n=0;n<this.column;n++)t[n]=0,o[n]=null;this.board.push(t),this.boardCells.push(o)}this.randomCell(!0),this.randomCell(!0)},randomCell:function(e){void 0===e&&(e=!1);var t=Math.round(Global.tools.getRandomNum(0,this.row-1)),o=Math.round(Global.tools.getRandomNum(0,this.column-1));for(cc.log("value_0:",t+"**"+o+" ** "+this.board[t][o]);0!=this.board[t][o];)t=Math.round(Global.tools.getRandomNum(0,this.row-1)),o=Math.round(Global.tools.getRandomNum(0,this.column-1));cc.log("value_1:",t+"**"+o+" ** "+this.board[t][o]);var n=e?a[Global.tools.getRandomNum(0,a.length-1)]:a[0],i=this.gridNode.node.getContentSize(),r=i.width-20,c=i.height-20,s=(r-10*(this.column-1))/this.column,l=(c-10*(this.row-1))/this.row;this.board[t][o]=n;var u=cc.instantiate(this.cellPreb);u.parent=this.panel,u.position=this.getPanelPos(t,o),(u=u.getComponent("Cell")).adjustSize(s,l),this.boardCells[t][o]=u,u.num=n,u.bg.scale=0,u.bg.runAction(cc.scaleTo(.1,1))},getPanelPos:function(e,t){return this.gridNode.node.getChildByName("gridCell_"+e+t).getPosition()},canMoveUp:function(){for(var e=0;e<this.column;e++)for(var t=1;t<this.row;t++)if(0!=this.board[t][e]&&(0==this.board[t-1][e]||this.board[t-1][e]==this.board[t][e]))return!0;return!1},canMoveDown:function(){for(var e=0;e<this.column;e++)for(var t=this.row-2;t>=0;t--)if(0!=this.board[t][e]&&(0==this.board[t+1][e]||this.board[t+1][e]==this.board[t][e]))return!0;return!1},canMoveLeft:function(){for(var e=this.row-1;e>=0;e--)for(var t=1;t<this.column;t++)if(0!=this.board[e][t]&&(0==this.board[e][t-1]||this.board[e][t-1]==this.board[e][t]))return!0;return!1},canMoveRight:function(){for(var e=this.row-1;e>=0;e--)for(var t=this.column-2;t>=0;t--)if(0!=this.board[e][t]&&(0==this.board[e][t+1]||this.board[e][t+1]==this.board[e][t]))return!0;return!1},moveUp:function(){if(cc.log("\u4e0a\u6ed1\u52a8"),this.canMoveUp()&&!this.moving){for(var e=0;e<this.column;e++)for(var t=0,o=0;o<this.row;o++)if(0!=this.board[o][e])for(var n=0+t;n<o;n++)0==this.board[n][e]&&this.noBlockVertical(e,n,o)?(this.board[n][e]=this.board[o][e],this.board[o][e]=0,this.moveActionVertical(o,e,n,!1)):this.board[n][e]==this.board[o][e]&&this.noBlockVertical(e,n,o)&&(this.score+=2*this.board[o][e],this.board[n][e]+=this.board[o][e],this.board[o][e]=0,t++,this.moveActionVertical(o,e,n,!0));this.randomCell()}},moveDown:function(){if(cc.log("\u4e0b\u6ed1\u52a8"),this.canMoveDown()&&!this.moving){for(var e=0;e<this.column;e++)for(var t=0,o=this.row-1;o>=0;o--)if(0!=this.board[o][e])for(var n=this.row-1-t;n>o;n--)0==this.board[n][e]&&this.noBlockVertical(e,o,n)?(this.board[n][e]=this.board[o][e],this.board[o][e]=0,this.moveActionVertical(o,e,n,!1)):this.board[n][e]==this.board[o][e]&&this.noBlockVertical(e,o,n)&&(this.score+=2*this.board[o][e],this.board[n][e]+=this.board[o][e],this.board[o][e]=0,t++,this.moveActionVertical(o,e,n,!0));this.randomCell()}},moveLeft:function(){if(cc.log("\u5de6\u6ed1\u52a8"),this.canMoveLeft()&&!this.moving){for(var e=this.row-1;e>=0;e--)for(var t=0,o=0;o<this.column;o++)if(0!=this.board[e][o])for(var n=0+t;n<o;n++)0==this.board[e][n]&&this.noBlockHorizonal(e,n,o)?(this.board[e][n]=this.board[e][o],this.board[e][o]=0,this.moveActionHorizonal(e,o,n,!1)):this.board[e][n]==this.board[e][o]&&this.noBlockHorizonal(e,n,o)&&(this.score+=2*this.board[e][o],this.board[e][n]+=this.board[e][o],this.board[e][o]=0,t++,this.moveActionHorizonal(e,o,n,!0));this.randomCell()}},moveRight:function(){if(cc.log("\u53f3\u6ed1\u52a8"),this.canMoveRight()&&!this.moving){for(var e=this.row-1;e>=0;e--)for(var t=0,o=this.column-1;o>=0;o--)if(0!=this.board[e][o])for(var n=this.column-1-t;n>o;n--)0==this.board[e][n]&&this.noBlockHorizonal(e,o,n)?(this.board[e][n]=this.board[e][o],this.board[e][o]=0,this.moveActionHorizonal(e,o,n,!1)):this.board[e][n]==this.board[e][o]&&this.noBlockHorizonal(e,o,n)&&(this.score+=2*this.board[e][o],this.board[e][n]+=this.board[e][o],this.board[e][o]=0,t++,this.moveActionHorizonal(e,o,n,!0));this.randomCell()}},moveActionHorizonal:function(e,t,o,n){var a=this,i=this.boardCells[e][t];i&&(this.boardCells[e][t]=null,i.node.stopAllActions(),this.moving=!0,n?i.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(e,o)),cc.callFunc(function(){a.boardCells[e][o].num=a.board[e][o],a.boardCells[e][o].bg.runAction(cc.sequence(cc.scaleTo(.1*.4,1.2),cc.delayTime(.1*.2),cc.scaleTo(.03,1))),i.node.destroy(),a.moving=!1,a.getGameResult(a.board[e][o])}))):(this.boardCells[e][o]=i,i.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(e,o)),cc.callFunc(function(){a.moving=!1,a.getGameResult(a.board[e][o])})))))},moveActionVertical:function(e,t,o,n){var a=this,i=this.boardCells[e][t];i&&(this.boardCells[e][t]=null,i.node.stopAllActions(),this.moving=!0,n?i.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(o,t)),cc.callFunc(function(){a.boardCells[o][t].num=a.board[o][t],a.boardCells[o][t].bg.runAction(cc.sequence(cc.scaleTo(.1*.4,1.2),cc.delayTime(.1*.2),cc.scaleTo(.03,1))),i.node.destroy(),a.moving=!1,a.getGameResult(a.board[o][t])}))):(this.boardCells[o][t]=i,i.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(o,t)),cc.callFunc(function(){a.moving=!1,a.getGameResult(a.board[o][t])})))))},noBlockHorizonal:function(e,t,o){for(var n=t+1;n<o;n++)if(0!=this.board[e][n])return!1;return!0},noBlockVertical:function(e,t,o){for(var n=t+1;n<o;n++)if(0!=this.board[n][e])return!1;return!0},showGameResult:function(e){void 0===e&&(e=!1),console.log("showGameResult"),this._isResult||(this._isResult=!0,Global.panel.openLoading(),Global.panel.closeChildPanel(323),Global.panel.showAsynPanelByName(o.PERLOAD_NAME.result,null,323).then(function(t){Global.panel.closeLoading();var o=t.getComponent(t.name);o&&o.setData(e)},function(){Global.panel.closeLoading()}))},getGameResult:function(e){2048!=e?this.getIsGameOver():this.showGameResult(!0)},getIsGameOver:function(){this.canMoveUp()||this.canMoveDown()||this.canMoveLeft()||this.canMoveRight()||this.showGameResult(!1)},onClickSettingBtn:function(){Global.musicManager.playClickEffect(),Global.panel.openLoading(),Global.panel.showAsynPanelByName(o.PERLOAD_NAME.setting).then(function(){Global.panel.closeLoading()},function(){Global.panel.closeLoading()})},onClickSoundToggle:function(e){Global.musicManager.playClickEffect();var t=1==e.isChecked?1:0;cc.sys.localStorage.setItem(o.KEY.soundStatus,t),e.isChecked?n.onMute():n.onUnmute(),1==t?(Global.musicManager.pauseBGMusic(),Global.musicManager.stopAllEffects()):Global.musicManager.resumeMusic()},onClickHelpBtn:function(){Global.musicManager.playClickEffect(),Global.panel.openLoading(),Global.panel.showAsynPanelByName(o.PERLOAD_NAME.help).then(function(){Global.panel.closeLoading()},function(){Global.panel.closeLoading()})},onClickPlayBtn:function(){Global.musicManager.playClickEffect(),this._isResult=!1,this.playGame()},onDestroy:function(){Global.emitter.off(o.clientEvent.EnterBackground,this),Global.emitter.off(o.clientEvent.EnterForeground,this),this.unregisterEvent()}}),cc._RF.pop()},{GameConfig:"GameConfig",h5ad:1}],MusicManager:[function(e,t){"use strict";cc._RF.push(t,"a131elNKz9EA7wE3M6Jc28K","MusicManager");var o=e("GameConfig"),n=function(){this.resetData()},a=n.prototype,i=null;a.resetData=function(){},a.playEffect=function(e,t,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1);var i=cc.sys.localStorage.getItem(o.KEY.soundStatus);if(1!=i||0!=a){1==n&&cc.audioEngine.stopAllEffects();var r=Global.resourceManager.getRes(e);if(r&&cc.isValid(r)){var c=a?cc.audioEngine.playMusic(r,!0):cc.audioEngine.play(r,!1,1);1==i&&1==a&&cc.audioEngine.pauseMusic(),cc.audioEngine.setFinishCallback(c,function(){t&&t()})}else cc.loader.loadRes(e,cc.AudioClip,function(o,n){if(o)console.error(o);else{var r=a?cc.audioEngine.playMusic(n,!0):cc.audioEngine.play(n,!1,1);1==i&&1==a&&cc.audioEngine.pauseMusic(),cc.audioEngine.setFinishCallback(r,function(){t&&t()}),Global.resourceManager.setRes(e,n)}})}},a.playBGM=function(e){this.playEffect(e,null,!1,!0)},a.playClickEffect=function(e){this.playEffect("audio/click",e)},a.playCloseEffect=function(e){this.playEffect("audio/close",e)},a.pauseBGMusic=function(){cc.audioEngine.pauseMusic()},a.resumeMusic=function(){cc.audioEngine.resumeMusic()},a.stopAllEffects=function(){cc.audioEngine.stopAllEffects()},t.exports=function(){return i||(i=new n),i},cc._RF.pop()},{GameConfig:"GameConfig"}],Panel:[function(e,t){"use strict";cc._RF.push(t,"59b5fRoDLBIzLjHPRSPOWw9","Panel");var o=e("GameConfig"),n=function(){this.resetData()},a=n.prototype,i=null;a.resetData=function(){},a.showAsynPanelByName=function(e,t,o){var n=this,a=this;return t=t||cc.director.getScene(),new Promise(function(i,r){var c=Global.resourceManager.getRes(e);c?i(n.showChildPanel(c,t,o)):cc.loader.loadRes(e,cc.Prefab,function(e,n){e?r(e):(Global.resourceManager.setRes(n),i(a.showChildPanel(n,t,o)))})})},a.showChildPanel=function(e,t,o){var n=cc.instantiate(e);return o&&n.getComponent(n.name).set("fromTag",o),n.parent=t,n},a.closeChildPanel=function(e,t){var o=(t=t||cc.director.getScene()).children;if(o)for(var n=0;n<o.length;n++){var a=o[n],i=a.getComponent(a.name);i&&null!=i.get&&i.get("fromTag")===e&&a.destroy()}},a.showPrompt=function(e){Global.musicManager.playEffect(o.PERLOAD_NAME.msg),this.showAsynPanelByName(o.PERLOAD_NAME.promptUI).then(function(t){t.getComponent(t.name).showDes(e)})},a.openLoading=function(e,t){void 0===t&&(t=2e4),this.showAsynPanelByName(o.PERLOAD_NAME.loading,null,o.LAYER_ORDER.mask).then(function(o){o.getComponent(o.name).startCountDown(e,t)})},a.closeLoading=function(){this.closeChildPanel(o.LAYER_ORDER.mask)},t.exports=function(){return i||(i=new n),i},cc._RF.pop()},{GameConfig:"GameConfig"}],PreLoadManager:[function(e,t){"use strict";cc._RF.push(t,"31942JE5IZM5ISfE8tlXIGH","PreLoadManager");var o=e("GameConfig");cc.Class({extends:cc.Component,properties:{_loadList:[],_loadCount:0,_loadedCount:0,_curResUrl:""},onLoad:function(){startGame(),this._loadList=[{url:o.PERLOAD_NAME.bgMusic,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.success,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.click,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.close,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.msg,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.promptUI,type:"prefab"},{url:o.PERLOAD_NAME.loading,type:"prefab"},{url:o.PERLOAD_NAME.result,type:"prefab"},{url:o.PERLOAD_NAME.help,type:"prefab"}],this._loadCount=this._loadList.length,this.loadRes()},loadRes:function(){var e=this;if(this._loadList.length<=0)this.preloadDone();else{var t=this._loadList.shift();"scene"==t.type?cc.director.preloadScene(t.url,function(){e._loadCount++,e.updateProgress(e._loadedCount,e._loadCount),e.loadRes()}):"spriteAtlas"==t.type?cc.loader.loadRes(t.url,cc.SpriteAtlas,this.loadCompleteCallback.bind(this)):"remoteAudioClip"==t.type?cc.loader.load({url:t.url,type:t.format},this.loadCompleteCallback.bind(this)):cc.loader.loadRes(t.url,this.loadCompleteCallback.bind(this)),this._curResUrl=t.url}},loadCompleteCallback:function(e,t){this._loadedCount++,this.updateProgress(this._loadedCount,this._loadCount),e?console.error(e):this.parseResource(t),this.loadRes()},parseResource:function(e){Global.resourceManager.setRes(this._curResUrl,e)},preloadDone:function(){},updateProgress:function(){}}),cc._RF.pop()},{GameConfig:"GameConfig"}],ResourceManager:[function(e,t){"use strict";cc._RF.push(t,"b9498yjFjFFRYAnV1hTfZhI","ResourceManager");var o=function(){this.resetData()},n=o.prototype,a=null;n.resetData=function(){this._cacheList=[]},n.setRes=function(e,t){this._cacheList[e]=t},n.getRes=function(e){return this._cacheList[e]},n.getSpriteFrameFromAtlas=function(e,t){return this.getRes(e).getSpriteFrame(t)},n.loadRes=function(e,t){var o=this.getRes(e);if(null!=o)return console.log("\u5df2\u7ecf\u5b58\u5728\uff1a"+e),void(t&&t(o));var n=this;cc.loader.loadRes(e,function(o,a){o?console.error(o):n.setRes(e,a),null!=t&&t(a)})},n.releaseRes=function(e){this._cacheList[e].destroy();var t=cc.loader.getDependsRecursively(e);cc.loader.release(t)},t.exports=function(){return a||(a=new o),a},cc._RF.pop()},{}],SpriteFrameSet:[function(e,t){"use strict";cc._RF.push(t,"ecbd3Ze139EO6Y/mdovRqSS","SpriteFrameSet");var o=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=o,cc._RF.pop()},{}],Tools:[function(e,t){"use strict";cc._RF.push(t,"b0725gdMZNKXrVND8Mafz7Y","Tools");var o=e("h5ad"),n=function(){this.resetData()},a=n.prototype,i=null;a.resetData=function(){},a.setSpriteImg=function(e,t){null!=e&&Global.resourceManager.loadRes(t,function(t){e.spriteFrame=new cc.SpriteFrame(t)})},a.getRandomNum=function(e,t){return parseInt(Math.random()*(t-e+1)+e)},a.getRandomArray=function(e){for(var t=[],o=0;o<e;o++)t.push(o);for(var n=0;n<t.length;n++){var a=parseInt(Math.random()*t.length),i=t[a];t[a]=t[n],t[n]=i}return t},a.fitFunc=function(e){var t=cc.view.getVisibleSize(),o=cc.view.getDesignResolutionSize();t.width/o.width>t.height/o.height?(cc.log("fitHeight"),e.fitHeight=!0,e.fitWidth=!1):t.width/o.width<t.height/o.height&&(cc.log("fitWidth"),e.fitHeight=!1,e.fitWidth=!0)},a.numberFormat=function(e){var t,o={};return e<1e3?(o.value=e,o.unit=""):(t=Math.floor(Math.log(e)/Math.log(1e3)),o.value=(e/Math.pow(1e3,t)).toFixed(2),o.unit=["","K","M","B","t","q","Q","s","g","G","r"][t]),o},a.getNumStr=function(e){var t=this.numberFormat(e),o=""+t.value,n=o.indexOf(".");if(n>=0&&3!==n)for(o=o.substring(0,4);o.length>0;){var a=o[o.length-1];if("0"!=a&&"."!=a)break;if(o=o.substring(0,o.length-1),"."===a)break}else o=o.substring(0,3);return o+t.unit},a.getBase64Image=function(e){return new Promise(function(t,o){cc.loader.loadRes(e,function(e,n){if(e)o(e);else{var a=document.createElement("CANVAS"),i=a.getContext("2d"),r=n.getHtmlElementObj();a.width=r.width,a.height=r.height,i.drawImage(r,0,0,a.width,a.height);var c=a.toDataURL("image/png");a=null,t(c)}})})},a.myBrowser=function(){var e="other";if(window.navigator&&window.navigator.hasOwnProperty("userAgent")){var t=window.navigator.userAgent;t.indexOf("OPR")>-1||t.indexOf("Opera")>-1?e="Opera":t.indexOf("Firefox")>-1?e="Firefox":t.indexOf("Chrome")>-1?e="Chrome":t.indexOf("Safari")>-1&&(e="Safari")}return e},a.timeFormat=function(e){var t=new Date(parseInt(e)),o=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var a=t.getDate();return o+n+(a<10?"0"+a:a)},a.deepClone=function(e){var t,o=function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)},n=o(e);if("Object"===n)t={};else{if("Array"!==n)return e;t=[]}for(var a in e){var i=e[a];"Object"==o(i)?t[a]=arguments.callee(i):"Array"==o(i)?t[a]=arguments.callee(i):t[a]=e[a]}return t},a.showAds=function(e,t,n){var a=new Object;a.type=e,a.beforeBreak=function(){console.log("beforeBreak"),t&&(cc.director.pause(),cc.audioEngine.pauseAll())},a.afterBreak=function(){console.log("afterBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),"reward"!=e&&n&&n(!0)},"reward"==e&&(a.beforeReward=function(e){console.log("beforeReward"),e()}),a.adDismissed=function(){console.log("adDismissed"),n&&n(!1)},"reward"==e&&(a.adViewed=function(){console.log("adViewed"),n&&n(!0)}),a.noBreak=function(){console.log("noBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),n&&n(!0)},o.adBreak(a)},a.getResourceUrl=function(e){var t=cc.resources.getInfoWithPath(e),o=t.uuid;return t.nativeVer&&(o+="."+t.nativeVer),"./assets/resources/native/"+o.substr(0,2)+"/"+o+".png"},a.gtaInit=function(e,t){console.log("init:",e+" ** "+t);var o={gameId:e,version:"1.0.0",debugLog:!0,amplitude:{apiKey:t,debugLog:!0}};gcTurboAnalytics.init(o)},a.gtaSendBaseUserProperties=function(){var e=new Object;e.version="1.0.0",gcTurboAnalytics.setUserProperties(e)},a.gtaSetUserProperties=function(e){gcTurboAnalytics.setUserProperties(e)},a.gtaPushEvent=function(e,t){gcTurboAnalytics.pushEvent(e,t)},a.getAppName=function(){return"2048 Infinity"},a.getWeblinkSource=function(){return document?document.referrer||document.URL:"Unknown"},t.exports=function(){return i||(i=new n),i},cc._RF.pop()},{h5ad:1}],emitter:[function(e,t){"use strict";cc._RF.push(t,"af14eiX8uJLo6eO4nPr7xmX","emitter");var o=function(e,t){for(var o=0;o<e.length;++o)if(e[o].obj===t)return o;return-1},n=null;function a(e){if(e)return i(e)}function i(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}t.exports=function(){return n||(n=new a),n},a.prototype.on=function(e,t,o){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push({func:t,obj:o}),this},a.prototype.once=function(e,t,o){var n=this;function a(){n.off(e,a),t.apply(o,arguments)}return this._callbacks=this._callbacks||{},t._off=a,this.on(e,a,o),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var a=o(n,t);return~a&&n.splice(a,1),this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),o=this._callbacks[e];if(o){console.log("\u53d1\u9001\u4e86\u4e8b\u4ef6",e,t);for(var n=0,a=(o=o.slice(0)).length;n<a;++n){var i=o[n].obj;o[n].func&&o[n].func.apply(i,t)}}return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length},cc._RF.pop()},{}],help:[function(e,t){"use strict";cc._RF.push(t,"42a407m099CyKb+C6/ZudIw","help"),cc.Class({extends:cc.Component,properties:{playLab:{default:null,type:cc.RichText}},onLoad:function(){"en"==Global.language?this.playLab.string='<color=#00ff00>"2048" is a number puzzle game where numbers are piled up and enlarged.\n</c><color=#0fffff>\u2460 Select your favorite mode from 3 modes: 4 squares, 6 squares, and 8 squares.\n\u2461 Move all the number cells up, down, left and right.\n\u2462 When two squares with the same number overlap, it will change to one larger square.\n\u2463 The game is over when all the squares cannot move.\n</c>':this.playLab.string="<color=#00ff00>\u300c2048\u300d\u306f\u3001\u6570\u5b57\u3092\u91cd\u306d\u3066\u5927\u304d\u304f\u3059\u308b\u6570\u5b57\u30d1\u30ba\u30eb\u30b2\u30fc\u30e0\u3067\u3059\u3002\n</c><color=#0fffff>\u2460 4\u30de\u30b9\u30016\u30de\u30b9\u30018\u30de\u30b9\u306e3\u3064\u306e\u30e2\u30fc\u30c9\u304b\u3089\u597d\u304d\u306a\u30e2\u30fc\u30c9\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u2461 \u4e0a\u4e0b\u5de6\u53f3\u306b\u3059\u3079\u3066\u306e\u6570\u5b57\u30de\u30b9\u3092\u52d5\u304b\u3057\u307e\u3059\u3002\n\u2462 \u540c\u3058\u6570\u5b57\u306e\u30de\u30b9\u304c\uff12\u3064\u91cd\u306a\u308b\u3068\u3001\u3088\u308a\u5927\u304d\u306a\uff11\u3064\u306e\u6570\u5b57\u306e\u30de\u30b9\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\u2463 \u5168\u3066\u306e\u30de\u30b9\u304c\u79fb\u52d5\u3067\u304d\u306a\u304f\u306a\u308b\u3068\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u3067\u3059\u3002\n</c>"},onClickCloseBtn:function(){Global.musicManager.playCloseEffect(),this.node.destroy()},set:function(e,t){this[e]=t},get:function(e){return this[e]}}),cc._RF.pop()},{}],loading:[function(e,t){"use strict";cc._RF.push(t,"34e7aFW/uVFVIfXycZW6RWT","loading"),cc.Class({extends:cc.Component,properties:{cycleIcon:{default:null,type:cc.Node},heartIcon:{default:null,type:cc.Node},_timeout:null},onLoad:function(){if(this.cycleIcon){var e=this;this.cycleIcon.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){e.cycleIcon.angle-=20}),cc.delayTime(.05))))}this.heartIcon&&this.heartIcon.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,0,1),cc.delayTime(.2),cc.scaleTo(.3,1,1),cc.delayTime(.2))))},startCountDown:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(function(){e&&e(),Global.panel.closeLoading()},t)},set:function(e,t){this[e]=t},get:function(e){return this[e]}}),cc._RF.pop()},{}],openAnimation:[function(e,t){"use strict";cc._RF.push(t,"65bb247RRlErZfb4piDG0lH","openAnimation");var o=cc.Enum({SCALE:0,DOWN:1,LEFT:2,UP:3,RIGHT:4});cc.Class({extends:cc.Component,properties:{playOnLoad:!0,animType:{default:o.SCALE,type:o,displayName:"\u5f39\u7a97\u52a8\u753b\u7c7b\u578b"},endPos:{default:new cc.Vec2(0,0)},runTime:{default:.8,step:.1},_originalPos:null},onEnable:function(){0!=this.playOnLoad&&this.playAnimation(!0,!0)},playAnimation:function(e,t){switch(void 0===e&&(e=!0),void 0===t&&(t=!0),this.animType){case o.SCALE:this.scale_Function(e,t);break;case o.DOWN:case o.LEFT:case o.UP:case o.RIGHT:this.move_Function(e,t);break;default:console.error("\u52a8\u753b\u7c7b\u578b\u4e0d\u5b58\u5728 ! ")}},scale_Function:function(){var e=cc.scaleTo(.2,1);e.easing(cc.easeBackOut(.2));var t=[e,cc.fadeIn(.2)];this.node.stopAllActions(),this.node.setScale(.7),this.node.opacity=0;var o=cc.spawn(t);this.node.runAction(o)},move_Function:function(e,t){var n=null;switch(cc.winSize,this.animType){case o.SCALE:case o.DOWN:break;case o.LEFT:n=e?new cc.Vec2(this.endPos.x,this.node.y):new cc.Vec2(-2*cc.winSize.width,this.node.y);break;case o.UP:break;case o.RIGHT:n=e?new cc.Vec2(this.endPos.x,this.node.y):new cc.Vec2(2*cc.winSize.width,this.node.y);break;default:console.error("\u52a8\u753b\u7c7b\u578b\u4e0d\u5b58\u5728 ! ")}null!=n?t?this.node.runAction(cc.moveTo(this.runTime,n).easing(cc.easeBackInOut())):this.node.setPosition(n):this.node.setPosition(this.endPos)}}),cc._RF.pop()},{}],"polyglot.min":[function(e,t,o){"use strict";cc._RF.push(t,"0c57bENkHNHF5R1+cLnLXbj","polyglot.min"),function(e,n){"function"==typeof define&&define.amd?define([],function(){return n(e)}):"object"==typeof o?t.exports=n(e):e.Polyglot=n(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||s}function o(e){var t,o,n,a={};for(t in e)if(e.hasOwnProperty(t))for(n in o=e[t])a[o[n]]=t;return a}function n(e){return e.replace(/^\s+|\s+$/g,"")}function a(e,t,o){var a;return null!=o&&e?n((a=e.split(u))[r(t,o)]||a[0]):e}function i(e){var t=o(d);return t[e]||t.en}function r(e,t){return h[i(e)](t)}function c(e,t){for(var o in t)"_"!==o&&t.hasOwnProperty(o)&&(e=e.replace(new RegExp("%\\{"+o+"\\}","g"),t[o]));return e}function s(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function l(e){var t={};for(var o in e)t[o]=e[o];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var o;for(var n in e)e.hasOwnProperty(n)&&(o=e[n],t&&(n=t+"."+n),"object"==typeof o?this.extend(o,n):this.phrases[n]=o)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var o,n;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?o=this.phrases[e]:"string"==typeof t._?o=t._:this.allowMissing?o=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof o&&(t=l(t),n=c(n=a(o,this.currentLocale,t.smart_count),t)),n},t.prototype.has=function(e){return e in this.phrases};var u="||||",h={chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},d={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],promptUI:[function(e,t){"use strict";cc._RF.push(t,"397e3f5uUFJO5P8TyQdbRDB","promptUI");var o=cc.Class({extends:cc.Component,properties:{desLbl:cc.Label,coinNode:cc.Node,gemNode:cc.Node},showDes:function(e,t){this.desLbl.string=e,this.coinNode.active=!1,this.gemNode.active=!1,"coin"==t?this.coinNode.active=!0:"gem"==t&&(this.gemNode.active=!0);var o=this;this.node.runAction(cc.sequence(cc.moveBy(.2,0,150),cc.moveBy(1,0,0),cc.moveBy(.2,0,150),cc.fadeOut(.2),cc.callFunc(function(){o.node.destroy()})))},set:function(e,t){this[e]=t},get:function(e){return this[e]}});t.exports=o,cc._RF.pop()},{}],result:[function(e,t){"use strict";cc._RF.push(t,"6c4dfRtQypNFpkmKr4xbWmC","result");var o=e("GameConfig");cc.Class({extends:cc.Component,properties:{gameOver:{default:null,type:cc.Node},sucIcon:{default:null,type:cc.Node},scoreLab:{default:null,type:cc.Label},highestLab:{default:null,type:cc.Label}},onLoad:function(){Global.emitter.on(o.clientEvent.EnterBackground,this.EnterBackground,this),Global.emitter.on(o.clientEvent.EnterForeground,this.EnterForeground,this),this.registerEvent(),this.isBackGround=!1,this.updateHighestScore()},EnterBackground:function(){this.isBackGround=!0,this.unregisterEvent()},EnterForeground:function(){this.isBackGround&&(this.isBackGround=!1,this.registerEvent())},registerEvent:function(){},unregisterEvent:function(){},playGame:function(){this.node.destroy()},setData:function(e){e&&Global.musicManager.playEffect(o.PERLOAD_NAME.success),this.gameOver.active=!e,this.sucIcon.active=e},updateHighestScore:function(){Global.player.curScore>Global.player.highestScore&&(Global.player.highestScore=Global.player.curScore),this.highestLab.string=Global.player.highestScore,this.scoreLab.string=Global.player.curScore},onClickHomeBtn:function(){var e=this;Global.musicManager.playClickEffect(),Global.tools.showAds("reward",!0,function(t){var o=new Object;o.adType="Reward",o.gameName=Global.tools.getAppName(),o.gameFeature="rewardAD_rePlay",o.weblinkSource=Global.tools.getWeblinkSource(),t?Global.tools.gtaPushEvent("AdShowSuccess",o):Global.tools.gtaPushEvent("AdShowFail",o),Global.gameCtrl.gotoHome(),e.node.destroy()})},onClickRePlayBtn:function(){var e=this;Global.musicManager.playClickEffect(),Global.tools.showAds("reward",!0,function(t){var o=new Object;o.adType="Reward",o.gameName=Global.tools.getAppName(),o.gameFeature="rewardAD_rePlay",o.weblinkSource=Global.tools.getWeblinkSource(),t?Global.tools.gtaPushEvent("AdShowSuccess",o):Global.tools.gtaPushEvent("AdShowFail",o),Global.gameCtrl.onClickPlayBtn(),e.node.destroy()})},continue:function(){Global.gameCtrl.onClickPlayBtn(),this.node.destroy()},onClickSettingBtn:function(){Global.musicManager.playClickEffect(),Global.panel.openLoading(),Global.panel.showAsynPanelByName(o.PERLOAD_NAME.setting).then(function(){Global.panel.closeLoading()},function(){Global.panel.closeLoading()})},set:function(e,t){this[e]=t},get:function(e){return this[e]},onDestroy:function(){Global.emitter.off(o.clientEvent.EnterBackground,this),Global.emitter.off(o.clientEvent.EnterForeground,this),this.unregisterEvent()}}),cc._RF.pop()},{GameConfig:"GameConfig"}],select:[function(e,t){"use strict";cc._RF.push(t,"f2bb4xbf3hGPppPAwkC9FPb","select"),cc.Class({extends:cc.Component,properties:{lvlIcon:{default:null,type:cc.Sprite},lvlSF:{default:[],type:cc.SpriteFrame},leftBtn:{default:null,type:cc.Node},rightBtn:{default:null,type:cc.Node},isCycle:!1},onLoad:function(){this.onClickArrow(null,0)},onClickArrow:function(e,t){Global.curLevel+=parseInt(t),this.isCycle?Global.curLevel=Global.curLevel<0?this.lvlSF.length-1:Global.curLevel>this.lvlSF.length-1?0:Global.curLevel:Global.curLevel=Global.curLevel<0?0:Global.curLevel>this.lvlSF.length-1?this.lvlSF.length-1:Global.curLevel,this.leftBtn.active=this.isCycle||Global.curLevel>0,this.rightBtn.active=this.isCycle||Global.curLevel<this.lvlSF.length-1,this.lvlIcon.spriteFrame=this.lvlSF[Global.curLevel],cc.sys.localStorage.setItem(Global.getAppName()+"curLevel",Global.curLevel)}}),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"cfc6fJV+wBLq4lZWWHUh1dk","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["use_v2.1-2.2.1_cc.Toggle_event","GameConfig","Global","MusicManager","Panel","PreLoadManager","ResourceManager","Tools","emitter","openAnimation","Cell","ComboBox","GridCell","Item","MainScene","help","loading","promptUI","result","select","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);